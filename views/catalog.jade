extends ./layouts/layout.jade

block pageBody
	nav.navbar.navbar-default
		.container-fluid
			.navbar-header
				a.navbar-brand(href="#")
					img(alt="Brand" src="./img/brandimage.png" height="20" width="20")
					
	.container-fluid(id="breadcrumb")
		ul.breadcrumb
			li
				a(href="#") Home
			li
				a(href="#") Library
			li.active Data
			
		.panel.panel-default.fixed-right
			span.glyphicon.glyphicon-user.icon-lg.dropdown(id="dropdownUser" data-toggle="dropdown")
			ul.dropdown-menu.dropdown-menu-right(aria-labelledby="dropdownUser")
					li
						a(href="#") Profile
					li
						a(href="#") Settings
					li
						a(href="#") Log out
			
			| &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			
			span#myCart.glyphicon.glyphicon-shopping-cart.icon-lg(data-toggle="popover" tabindex="0")
			span#cartOK.glyphicon.glyphicon-shopping-cart.icon-lg(style="opacity:0;width:0")
			
			.row(id="cart_popover" style="display:none")
				table.table.table-striped
						tr
							td
								img(alt="Picture2" src="./img/thumbnail.png" class="img-thumbnail" width="50")
							td
								p Descripcion de item #1
							td
								p $100
						tr
							td
								img(alt="Picture2" src="./img/thumbnail.png" class="img-thumbnail" width="50")
							td
								p Descripcion de item #2
							td
								p $200
	.container-fluid
		.row
			.col-md-8.col-md-offset-4
				h2 Catalog Item #1
			
	.container-fluid(id="catalog")
		.row
			.col-md-2.col-md-offset-2
				//-PICTURES SCROLL
				.btn-group.pre-scrollable(id="pictureScroll" data-toggle="buttons")
					each image, index in data.item_displaying.images
						label.btn.btn-default(class=index == 0?"active":"" aria-pressed=index == 0?"true" : "")
							input(type="radio" name="pictures" id="radio_picture"+index value=index)
							img(alt="Picture"+index src=image id="picture"+index class="img-thumbnail" width="100")
			
			.col-md-7
				//-CATALOG
				form.form-horizontal#formArticle(name="formArticle")
					.form-group
						//-MAIN PICTURE
						.col-md-4
							img#mainPicture(alt="Picture3" src="./img/thumbnail.png" class="img-thumbnail")
						
						.col-md-4
							//-SIZES
							.row
								.col-md-12
									.btn-group.btn-group-sm(role="group" aria-label"Sizes" data-toggle="buttons")
										each size, index in data.item_displaying.sizes
											label.btn.btn-default(class=size.stock && index==0?"active":"" class=!size.stock?"disabled":"" aria-pressed=size.stock && index==0?"true":"")=size.name
												input(type="radio" name="sizes" value=size.value disabled=!size.stock)
							
							br
							
							//-QUANTITY
							.row
								.col-md-12
									label(for="quantity" style="display:block") Cantidad
									span
										button(type="button" class="btn btn-default btn-number" disabled="disabled" data-type="minus" data-field="quantity" id="minusQty")
											span.glyphicon.glyphicon-minus
									| &nbsp
									input(type="text" name="quantity" id="quantity" class="form-control input-number readonly" value="1" min="1" readonly)
									| &nbsp
									span
										button(type="button" class="btn btn-default btn-number" data-type="plus" data-field="quantity" id="plusQty")
											span.glyphicon.glyphicon-plus
							
							//-PRICE
							.row
								.col-md-12
									if data.item_displaying.hasOwnProperty("discountPrice")
										del
											h4.small $#{data.item_displaying.discountPrice}
									.col-md-6
										h1 $#{data.item_displaying.price}
									if data.item_displaying.hasOwnProperty("discountPercent")
										.col-md-6.pull-left
											h3
												small.text-success #{data.item_displaying.discountPercent}% OFF
							
							br
							
							//-BUY BUTTON
							.row
								.col-md-12
									button#addToCart(type="button" class="btn btn-info center-block") Agregar al carrito
		
		.row
			.col-md-10.col-md-offset-1
				hr
				.col-md-10.col-md-offset-1
					//-DESCRIPCION
					h1 Descripcion
					p!=data.item_displaying.description
					
		.row
			.col-md-10.col-md-offset-1
				hr
				.col-md-10.col-md-offset-1
					//-TALLES
					h1 Detalle de Tallas
					br
					.col-md-5
						.btn-group.btn-group-sm(role="group" aria-label"Sizes" data-toggle="buttons")
							- var i = 0
							each size, index in data.item_displaying.sizes
								label.btn.btn-default(class=size.stock && i==0?"active":"" class=!size.stock?"disabled":"" aria-pressed=size.stock && index==0?"true":"")=size.name
									input(type="radio" name="sizesDetail" value=size.value disabled=!size.stock)
								if i==0 && size.stock
									- i = 1
						
						br
						br
						
						.panel.panel-default
							.panel-heading
								| Medidas aproximadas
							- var i = 0
							- each size, index in data.item_displaying.sizes
								ul.list-group(style=i==0 && size.stock?"":"display:none" id="sizesDetailDesc_"+size.value)
									if size.measures.hasOwnProperty("hombro_a_hombro")
										li.list-group-item Hombro a hombro: #{size.measures.hombro_a_hombro}cm
									if size.measures.hasOwnProperty("largo")
										li.list-group-item Largo: #{size.measures.largo}cm
									if size.measures.hasOwnProperty("espalda")
										li.list-group-item Espalda: #{size.measures.espalda}cm
								if i==0 && size.stock
									- i = 1
					
					.col-md-7.text-center
							img(id="sizePreview" alt="sizePreview" src="./img/thumbnail.png" usemap="#clothMap")
							map(name="clothMap")
								area(shape="rect" coords="0,0,70,70" data-toggle="tooltip" title="Top-left")
								area(shape="rect" coords="71,0,140,70" data-toggle="tooltip" title="Top-right")
								area(shape="rect" coords="0,71,70,140" data-toggle="tooltip" data-placement="bottom" title="Down-left")
								area(shape="rect" coords="71,71,140,140" data-toggle="tooltip" data-placement="bottom" title="Down-right")
								
		
		//-Modal para carousel de imagenes
		#modal_carousel.modal.fade(tabindex="-1" role="dialog" aria-labelledby="myModalLabel")
			.modal-dialog(role="document")
				.modal-content
					//.modal-header
						//
						button.close(type="button" data-dismiss="modal" aria-label="Close")
							span(aria-hidden="true") &times;
						h4#myModalLabel.modal-title Modal title
					.modal-body
						div(id="carouselArticle" class="carousel slide" data-ride="carousel")
							//Indicators
							ol(class="carousel-indicators")
								- each image, index in data.item_displaying.images
									li(data-target="#carousel-example-generic" data-slide-to=index class=index==0?"active":"")

							//Wrapper for slides
							div(class="carousel-inner" role="listbox")
								- each image, index in data.item_displaying.images
									div(class=index==0?"item active":"item")
										img(src=image alt="Picture "+index)
										div(class="carousel-caption")
									
							a(class="left carousel-control" href="#carousel-example-generic" role="button" data-slide="prev")
								span(class="glyphicon glyphicon-chevron-left" aria-hidden="true")
								span(class="sr-only") Previous
							a(class="right carousel-control" href="#carousel-example-generic" role="button" data-slide="next")
								span(class="glyphicon glyphicon-chevron-right" aria-hidden="true")
								span(class="sr-only") Next
					//.modal-footer
						//
						button.btn.btn-default(type="button" data-dismiss="modal") Close
						button.btn.btn-primary(type="button") Save changes
	
	script
		include ../static/js/catalog.js